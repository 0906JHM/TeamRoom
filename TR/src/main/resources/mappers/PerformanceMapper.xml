<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 <mapper namespace="com.itwillbs.mappers.PerformanceMapper">
 
 
  <insert id="perfinsert">
 INSERT INTO performance(perfCode,workCode,prodCode,lineCode,perfDate,perfEmpId,perfAmount,
                                     perfFair, perfDefect,perfDefectreason,perfDefectmemo,perfMemo,perfStatus)
                                                                                             
 VALUES(#{perfCode},#{workCode},#{prodCode},#{lineCode},#{perfDate},#{perfEmpId},#{perfAmount},
                                     #{perfFair}, COALESCE(#{perfDefect}, 0),#{perfDefectreason},#{perfDefectmemo},#{perfMemo},#{perfStatus})
 </insert>
 
 
 
 <select id="getperflist" resultType="PerformanceDTO">
 select * from performance
 
 </select>
 
 <select id="getlinelist" resultType="com.itwillbs.domain.LineDTO">
 
 select * from line
 
 </select>
 
 <select id="getprodlist" resultType="com.itwillbs.domain.ProdDTO">
 
SELECT * FROM product
 </select>
 
 <select id="getworklist" resultType="WorkOrderDTO">
 SELECT * FROM workOrder
 </select>
 
 <select id="getdetail" resultType="PerformanceDTO">
 select * from performance where perfCode=#{perfCode}
 
 </select>
 
 <update id="perfupdate">
 update performance set 
 perfFair=#{perfFair}, perfDefect=#{perfDefect}, perfDefectreason=#{perfDefectreason},perfDefectmemo=#{perfDefectmemo},
 perfMemo=#{perfMemo},perfStatus=#{perfStatus}
 where perfCode=#{perfCode}
 </update>
 
 
 </mapper>